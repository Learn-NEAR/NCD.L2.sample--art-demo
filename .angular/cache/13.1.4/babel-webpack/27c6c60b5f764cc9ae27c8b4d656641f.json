{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"C:\\\\Users\\\\Oleksandr Sai\\\\source\\\\repos\\\\OlexandrSai\\\\near--art--demo\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\asyncToGenerator.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MergeKeyStore = void 0;\n\nconst keystore_1 = require(\"./keystore\");\n\nclass MergeKeyStore extends keystore_1.KeyStore {\n  /**\n   * @param keyStores read calls are attempted from start to end of array\n   * @param options.writeKeyStoreIndex the keystore index that will receive all write calls\n   */\n  constructor(keyStores, options = {\n    writeKeyStoreIndex: 0\n  }) {\n    super();\n    this.options = options;\n    this.keyStores = keyStores;\n  }\n  /**\n   * Store a {@link KeyPain} to the first index of a key store array\n   * @param networkId The targeted network. (ex. default, betanet, etc…)\n   * @param accountId The NEAR account tied to the key pair\n   * @param keyPair The key pair to store in local storage\n   */\n\n\n  setKey(networkId, accountId, keyPair) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.keyStores[_this.options.writeKeyStoreIndex].setKey(networkId, accountId, keyPair);\n    })();\n  }\n  /**\n   * Gets a {@link KeyPair} from the array of key stores\n   * @param networkId The targeted network. (ex. default, betanet, etc…)\n   * @param accountId The NEAR account tied to the key pair\n   * @returns {Promise<KeyPair>}\n   */\n\n\n  getKey(networkId, accountId) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      for (const keyStore of _this2.keyStores) {\n        const keyPair = yield keyStore.getKey(networkId, accountId);\n\n        if (keyPair) {\n          return keyPair;\n        }\n      }\n\n      return null;\n    })();\n  }\n  /**\n   * Removes a {@link KeyPair} from the array of key stores\n   * @param networkId The targeted network. (ex. default, betanet, etc…)\n   * @param accountId The NEAR account tied to the key pair\n   */\n\n\n  removeKey(networkId, accountId) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      for (const keyStore of _this3.keyStores) {\n        yield keyStore.removeKey(networkId, accountId);\n      }\n    })();\n  }\n  /**\n   * Removes all items from each key store\n   */\n\n\n  clear() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      for (const keyStore of _this4.keyStores) {\n        yield keyStore.clear();\n      }\n    })();\n  }\n  /**\n   * Get the network(s) from the array of key stores\n   * @returns {Promise<string[]>}\n   */\n\n\n  getNetworks() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      const result = new Set();\n\n      for (const keyStore of _this5.keyStores) {\n        for (const network of yield keyStore.getNetworks()) {\n          result.add(network);\n        }\n      }\n\n      return Array.from(result);\n    })();\n  }\n  /**\n   * Gets the account(s) from the array of key stores\n   * @param networkId The targeted network. (ex. default, betanet, etc…)\n   * @returns{Promise<string[]>}\n   */\n\n\n  getAccounts(networkId) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      const result = new Set();\n\n      for (const keyStore of _this6.keyStores) {\n        for (const account of yield keyStore.getAccounts(networkId)) {\n          result.add(account);\n        }\n      }\n\n      return Array.from(result);\n    })();\n  }\n  /** @hidden */\n\n\n  toString() {\n    return `MergeKeyStore(${this.keyStores.join(', ')})`;\n  }\n\n}\n\nexports.MergeKeyStore = MergeKeyStore;","map":{"version":3,"sources":["C:/Users/Oleksandr Sai/source/repos/OlexandrSai/near--art--demo/node_modules/near-api-js/lib/key_stores/merge_key_store.js"],"names":["Object","defineProperty","exports","value","MergeKeyStore","keystore_1","require","KeyStore","constructor","keyStores","options","writeKeyStoreIndex","setKey","networkId","accountId","keyPair","getKey","keyStore","removeKey","clear","getNetworks","result","Set","network","add","Array","from","getAccounts","account","toString","join"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nclass MergeKeyStore extends keystore_1.KeyStore {\n    /**\n     * @param keyStores read calls are attempted from start to end of array\n     * @param options.writeKeyStoreIndex the keystore index that will receive all write calls\n     */\n    constructor(keyStores, options = { writeKeyStoreIndex: 0 }) {\n        super();\n        this.options = options;\n        this.keyStores = keyStores;\n    }\n    /**\n     * Store a {@link KeyPain} to the first index of a key store array\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    async setKey(networkId, accountId, keyPair) {\n        await this.keyStores[this.options.writeKeyStoreIndex].setKey(networkId, accountId, keyPair);\n    }\n    /**\n     * Gets a {@link KeyPair} from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    async getKey(networkId, accountId) {\n        for (const keyStore of this.keyStores) {\n            const keyPair = await keyStore.getKey(networkId, accountId);\n            if (keyPair) {\n                return keyPair;\n            }\n        }\n        return null;\n    }\n    /**\n     * Removes a {@link KeyPair} from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    async removeKey(networkId, accountId) {\n        for (const keyStore of this.keyStores) {\n            await keyStore.removeKey(networkId, accountId);\n        }\n    }\n    /**\n     * Removes all items from each key store\n     */\n    async clear() {\n        for (const keyStore of this.keyStores) {\n            await keyStore.clear();\n        }\n    }\n    /**\n     * Get the network(s) from the array of key stores\n     * @returns {Promise<string[]>}\n     */\n    async getNetworks() {\n        const result = new Set();\n        for (const keyStore of this.keyStores) {\n            for (const network of await keyStore.getNetworks()) {\n                result.add(network);\n            }\n        }\n        return Array.from(result);\n    }\n    /**\n     * Gets the account(s) from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @returns{Promise<string[]>}\n     */\n    async getAccounts(networkId) {\n        const result = new Set();\n        for (const keyStore of this.keyStores) {\n            for (const account of await keyStore.getAccounts(networkId)) {\n                result.add(account);\n            }\n        }\n        return Array.from(result);\n    }\n    /** @hidden */\n    toString() {\n        return `MergeKeyStore(${this.keyStores.join(', ')})`;\n    }\n}\nexports.MergeKeyStore = MergeKeyStore;\n"]},"metadata":{},"sourceType":"script"}